# Test 02: Login Validation
# Verifies login form validation and error handling
#
# Prerequisites: App is on login screen
# Expected: Shows appropriate error messages for invalid input

appId: net.aliasvault.app
---
# Launch the app fresh
- launchApp:
    clearState: true

# Wait for login screen
- extendedWaitUntil:
    visible:
      id: "login-screen"
    timeout: 15000

# Test 1: Empty form submission
- tapOn:
    id: "login-button"

# Should show validation error
- assertVisible:
    text: "Username and password are required"
    optional: true

- takeScreenshot: "02-1-empty-form-validation"

# Test 2: Invalid credentials
- tapOn:
    id: "username-input"
- inputText: "invalid@test.com"

- tapOn:
    id: "password-input"
- inputText: "wrongpassword"

- hideKeyboard

- tapOn:
    id: "login-button"

# Wait for error response (network request may take time)
- extendedWaitUntil:
    visible:
      id: "error-message"
    timeout: 15000
    optional: true

- takeScreenshot: "02-2-invalid-credentials"
