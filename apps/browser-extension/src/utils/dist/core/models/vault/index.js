// <auto-generated>
// This file was automatically generated. Do not edit manually.


// src/vault/FieldKey.ts
var FieldKey = {
  /**
   * Login username field
   * Type: Text
   */
  LoginUsername: "login.username",
  /**
   * Login password field
   * Type: Password
   */
  LoginPassword: "login.password",
  /**
   * Login notes field
   * Type: Text
   */
  LoginNotes: "login.notes",
  /**
   * Login URL field (multi-value)
   * Type: URL
   */
  LoginUrl: "login.url",
  /**
   * Login recovery codes field (multi-value)
   * Type: Text
   */
  LoginRecoveryCodes: "login.recovery_codes",
  /**
   * Credit card number field
   * Type: Text
   */
  CardNumber: "card.number",
  /**
   * Credit card cardholder name field
   * Type: Text
   */
  CardCardholderName: "card.cardholder_name",
  /**
   * Credit card expiry month field
   * Type: Text
   */
  CardExpiryMonth: "card.expiry_month",
  /**
   * Credit card expiry year field
   * Type: Text
   */
  CardExpiryYear: "card.expiry_year",
  /**
   * Credit card CVV field
   * Type: Password
   */
  CardCvv: "card.cvv",
  /**
   * Credit card PIN field
   * Type: Password
   */
  CardPin: "card.pin",
  /**
   * Identity title field (e.g., Mr., Mrs., Dr.)
   * Type: Text
   */
  IdentityTitle: "identity.title",
  /**
   * Identity first name field
   * Type: Text
   */
  IdentityFirstName: "identity.first_name",
  /**
   * Identity middle name field
   * Type: Text
   */
  IdentityMiddleName: "identity.middle_name",
  /**
   * Identity last name field
   * Type: Text
   */
  IdentityLastName: "identity.last_name",
  /**
   * Identity email field
   * Type: Email
   */
  IdentityEmail: "identity.email",
  /**
   * Identity phone number field (multi-value)
   * Type: Text
   */
  IdentityPhoneNumbers: "identity.phone_numbers",
  /**
   * Identity address line 1 field
   * Type: Text
   */
  IdentityAddressLine1: "identity.address_line1",
  /**
   * Identity address line 2 field
   * Type: Text
   */
  IdentityAddressLine2: "identity.address_line2",
  /**
   * Identity city field
   * Type: Text
   */
  IdentityCity: "identity.city",
  /**
   * Identity state/province field
   * Type: Text
   */
  IdentityState: "identity.state",
  /**
   * Identity postal code field
   * Type: Text
   */
  IdentityPostalCode: "identity.postal_code",
  /**
   * Identity country field
   * Type: Text
   */
  IdentityCountry: "identity.country",
  /**
   * Alias email field
   * Type: Email
   */
  AliasEmail: "alias.email",
  /**
   * Alias first name field
   * Type: Text
   */
  AliasFirstName: "alias.first_name",
  /**
   * Alias last name field
   * Type: Text
   */
  AliasLastName: "alias.last_name",
  /**
   * Alias nickname field
   * Type: Text
   */
  AliasNickname: "alias.nickname",
  /**
   * Alias gender field
   * Type: Text
   */
  AliasGender: "alias.gender",
  /**
   * Alias birth date field
   * Type: Date
   */
  AliasBirthdate: "alias.birthdate"
};

// src/vault/Item.ts
var FieldTypes = {
  Text: "Text",
  Password: "Password",
  Hidden: "Hidden",
  Email: "Email",
  URL: "URL",
  Date: "Date",
  Number: "Number",
  Phone: "Phone",
  TextArea: "TextArea"
};

// src/vault/ItemMethods.ts
function getFieldValue(item, fieldKey) {
  const field = item.Fields.find((f) => f.FieldKey === fieldKey);
  if (!field) {
    return void 0;
  }
  return Array.isArray(field.Value) ? field.Value[0] : field.Value;
}
function getFieldValues(item, fieldKey) {
  const field = item.Fields.find((f) => f.FieldKey === fieldKey);
  if (!field) {
    return [];
  }
  return Array.isArray(field.Value) ? field.Value : [field.Value];
}
function hasField(item, fieldKey) {
  const value = getFieldValue(item, fieldKey);
  return value !== void 0 && value !== "";
}
function groupFields(item, grouper) {
  const groups = {};
  item.Fields.forEach((field) => {
    const group = grouper(field);
    if (!groups[group]) {
      groups[group] = [];
    }
    groups[group].push(field);
  });
  return groups;
}
function groupFieldsByCategory(item) {
  return groupFields(item, (field) => {
    if (field.FieldKey === FieldKey.AliasEmail) {
      return "Login";
    }
    if (field.FieldKey.startsWith("login.")) {
      return "Login";
    }
    if (field.FieldKey.startsWith("alias.")) {
      return "Alias";
    }
    if (field.FieldKey.startsWith("card.")) {
      return "Card";
    }
    if (field.FieldKey.startsWith("identity.")) {
      return "Identity";
    }
    return "Custom";
  });
}
function itemToCredential(item) {
  return {
    Id: item.Id,
    Username: getFieldValue(item, FieldKey.LoginUsername),
    Password: getFieldValue(item, FieldKey.LoginPassword) || "",
    ServiceName: item.Name || "",
    ServiceUrl: getFieldValue(item, FieldKey.LoginUrl),
    Logo: item.Logo,
    Notes: getFieldValue(item, FieldKey.LoginNotes),
    Alias: {
      FirstName: getFieldValue(item, FieldKey.AliasFirstName),
      LastName: getFieldValue(item, FieldKey.AliasLastName),
      NickName: getFieldValue(item, FieldKey.AliasNickname),
      BirthDate: getFieldValue(item, FieldKey.AliasBirthdate) || "",
      Gender: getFieldValue(item, FieldKey.AliasGender),
      Email: getFieldValue(item, FieldKey.AliasEmail)
    },
    HasPasskey: item.HasPasskey,
    HasAttachment: item.HasAttachment
  };
}

// src/vault/SystemFieldRegistry.ts
var FieldCategories = {
  Primary: "Primary",
  Login: "Login",
  Alias: "Alias",
  Card: "Card",
  Metadata: "Metadata"
};
var SystemFieldRegistry = {
  /* =================== LOGIN FIELDS =================== */
  "login.username": {
    FieldKey: "login.username",
    FieldType: "Text",
    IsHidden: false,
    IsMultiValue: false,
    ApplicableToTypes: {
      Login: { ShowByDefault: true },
      Alias: { ShowByDefault: true }
    },
    EnableHistory: true,
    Category: FieldCategories.Login,
    DefaultDisplayOrder: 10
  },
  "login.password": {
    FieldKey: "login.password",
    FieldType: "Password",
    IsHidden: true,
    IsMultiValue: false,
    ApplicableToTypes: {
      Login: { ShowByDefault: true },
      Alias: { ShowByDefault: true }
    },
    EnableHistory: true,
    Category: FieldCategories.Login,
    DefaultDisplayOrder: 20
  },
  "login.url": {
    FieldKey: "login.url",
    FieldType: "URL",
    IsHidden: false,
    IsMultiValue: true,
    ApplicableToTypes: {
      Login: { ShowByDefault: true },
      Alias: { ShowByDefault: true }
    },
    EnableHistory: false,
    Category: FieldCategories.Primary,
    DefaultDisplayOrder: 5
  },
  /* =================== ALIAS FIELDS =================== */
  "alias.email": {
    FieldKey: "alias.email",
    FieldType: "Email",
    IsHidden: false,
    IsMultiValue: false,
    ApplicableToTypes: {
      Alias: { ShowByDefault: true }
    },
    EnableHistory: true,
    Category: FieldCategories.Alias,
    DefaultDisplayOrder: 10
  },
  "alias.first_name": {
    FieldKey: "alias.first_name",
    FieldType: "Text",
    IsHidden: false,
    IsMultiValue: false,
    ApplicableToTypes: {
      Alias: { ShowByDefault: true }
    },
    EnableHistory: false,
    Category: FieldCategories.Alias,
    DefaultDisplayOrder: 20
  },
  "alias.last_name": {
    FieldKey: "alias.last_name",
    FieldType: "Text",
    IsHidden: false,
    IsMultiValue: false,
    ApplicableToTypes: {
      Alias: { ShowByDefault: true }
    },
    EnableHistory: false,
    Category: FieldCategories.Alias,
    DefaultDisplayOrder: 30
  },
  "alias.nickname": {
    FieldKey: "alias.nickname",
    FieldType: "Text",
    IsHidden: false,
    IsMultiValue: false,
    ApplicableToTypes: {
      Alias: { ShowByDefault: true }
    },
    EnableHistory: false,
    Category: FieldCategories.Alias,
    DefaultDisplayOrder: 40
  },
  "alias.gender": {
    FieldKey: "alias.gender",
    FieldType: "Text",
    IsHidden: false,
    IsMultiValue: false,
    ApplicableToTypes: {
      Alias: { ShowByDefault: true }
    },
    EnableHistory: false,
    Category: FieldCategories.Alias,
    DefaultDisplayOrder: 50
  },
  "alias.birthdate": {
    FieldKey: "alias.birthdate",
    FieldType: "Date",
    IsHidden: false,
    IsMultiValue: false,
    ApplicableToTypes: {
      Alias: { ShowByDefault: true }
    },
    EnableHistory: false,
    Category: FieldCategories.Alias,
    DefaultDisplayOrder: 60
  },
  /* =================== CREDIT CARD FIELDS =================== */
  "card.cardholder_name": {
    FieldKey: "card.cardholder_name",
    FieldType: "Text",
    IsHidden: false,
    IsMultiValue: false,
    ApplicableToTypes: {
      CreditCard: { ShowByDefault: true }
    },
    EnableHistory: false,
    Category: FieldCategories.Card,
    DefaultDisplayOrder: 10
  },
  "card.number": {
    FieldKey: "card.number",
    FieldType: "Hidden",
    IsHidden: true,
    IsMultiValue: false,
    ApplicableToTypes: {
      CreditCard: { ShowByDefault: true }
    },
    EnableHistory: false,
    Category: FieldCategories.Card,
    DefaultDisplayOrder: 20
  },
  "card.expiry_month": {
    FieldKey: "card.expiry_month",
    FieldType: "Text",
    IsHidden: false,
    IsMultiValue: false,
    ApplicableToTypes: {
      CreditCard: { ShowByDefault: true }
    },
    EnableHistory: false,
    Category: FieldCategories.Card,
    DefaultDisplayOrder: 30
  },
  "card.expiry_year": {
    FieldKey: "card.expiry_year",
    FieldType: "Text",
    IsHidden: false,
    IsMultiValue: false,
    ApplicableToTypes: {
      CreditCard: { ShowByDefault: true }
    },
    EnableHistory: false,
    Category: FieldCategories.Card,
    DefaultDisplayOrder: 40
  },
  "card.cvv": {
    FieldKey: "card.cvv",
    FieldType: "Hidden",
    IsHidden: true,
    IsMultiValue: false,
    ApplicableToTypes: {
      CreditCard: { ShowByDefault: true }
    },
    EnableHistory: false,
    Category: FieldCategories.Card,
    DefaultDisplayOrder: 50
  },
  "card.pin": {
    FieldKey: "card.pin",
    FieldType: "Hidden",
    IsHidden: true,
    IsMultiValue: false,
    ApplicableToTypes: {
      CreditCard: { ShowByDefault: false }
    },
    EnableHistory: false,
    Category: FieldCategories.Card,
    DefaultDisplayOrder: 60
  },
  /* =================== METADATA FIELDS =================== */
  "metadata.notes": {
    FieldKey: "metadata.notes",
    FieldType: "TextArea",
    IsHidden: false,
    IsMultiValue: false,
    ApplicableToTypes: {
      Login: { ShowByDefault: false },
      Alias: { ShowByDefault: false },
      CreditCard: { ShowByDefault: false },
      Note: { ShowByDefault: true }
    },
    EnableHistory: false,
    Category: FieldCategories.Metadata,
    DefaultDisplayOrder: 100
  }
};
function getSystemField(fieldKey) {
  return SystemFieldRegistry[fieldKey];
}
function isSystemField(fieldKey) {
  return fieldKey in SystemFieldRegistry;
}
function fieldAppliesToType(field, itemType) {
  return itemType in field.ApplicableToTypes;
}
function getFieldConfigForType(field, itemType) {
  return field.ApplicableToTypes[itemType];
}
function isFieldShownByDefault(field, itemType) {
  const config = field.ApplicableToTypes[itemType];
  return config?.ShowByDefault ?? false;
}
function getSystemFieldsForItemType(itemType) {
  return Object.values(SystemFieldRegistry).filter((field) => fieldAppliesToType(field, itemType)).sort((a, b) => a.DefaultDisplayOrder - b.DefaultDisplayOrder);
}
function getDefaultFieldsForItemType(itemType) {
  return Object.values(SystemFieldRegistry).filter((field) => isFieldShownByDefault(field, itemType)).sort((a, b) => a.DefaultDisplayOrder - b.DefaultDisplayOrder);
}
function getOptionalFieldsForItemType(itemType) {
  return Object.values(SystemFieldRegistry).filter((field) => fieldAppliesToType(field, itemType) && !isFieldShownByDefault(field, itemType)).sort((a, b) => a.DefaultDisplayOrder - b.DefaultDisplayOrder);
}
function getAllSystemFieldKeys() {
  return Object.keys(SystemFieldRegistry);
}
function isSystemFieldPrefix(fieldKey) {
  return fieldKey.startsWith("login.") || fieldKey.startsWith("alias.") || fieldKey.startsWith("card.") || fieldKey.startsWith("identity.") || fieldKey.startsWith("api.") || fieldKey.startsWith("note.") || fieldKey.startsWith("metadata.");
}

// src/vault/FieldHistory.ts
var MAX_FIELD_HISTORY_RECORDS = 10;

export { FieldCategories, FieldKey, FieldTypes, MAX_FIELD_HISTORY_RECORDS, SystemFieldRegistry, fieldAppliesToType, getAllSystemFieldKeys, getDefaultFieldsForItemType, getFieldConfigForType, getFieldValue, getFieldValues, getOptionalFieldsForItemType, getSystemField, getSystemFieldsForItemType, groupFields, groupFieldsByCategory, hasField, isFieldShownByDefault, isSystemField, isSystemFieldPrefix, itemToCredential };
//# sourceMappingURL=index.js.map
//# sourceMappingURL=index.js.map